# منصة السفراء (Static) — جاهزة لـ GitHub + Netlify

منصة مخصصة للجوال بأسلوب Apple UI (Glass + Soft Cards)، وتعمل بدون سيرفر/قاعدة بيانات.
فكرة الدخول كما في المخطط: **لا توجد صفحة تسجيل دخول**؛ لكل سفير رابط مباشر `/s/<code>`.

## الهدف من المنصة
- تمكين فريق الإدارة من تشغيل برنامج السفراء بسرعة وبساطة.
- إعطاء كل سفير صفحة شخصية جاهزة للنشر والمتابعة اليومية.
- توسيع المنصة عبر إضافات (Add-ons) مستقلة بدون تعقيد.

## التشغيل محلياً
افتح `index.html` مباشرة أو شغّل أي Static Server.

## النشر على Netlify
- اربط الريبو
- Build command: (فارغ)
- Publish directory: `.`

> ملف `_redirects` يجعل الموقع SPA بحيث أي مسار يرجع لـ `index.html`.

## البيانات
- `data/ambassadors.json` : سجل السفراء + مصفوفة الصلاحيات (الإضافات المفعلة لكل سفير)
- `data/additions.json` : تعريف الإضافات (001,002,003...) وعناوينها ووصفها
- `data/content.json` : المحتوى المركزي (رسالة النشر + الصورة + الهوية)

## إضافة جديدة (Add-on)
1) أضف تعريفها في `data/additions.json`
2) أنشئ ملفها في `modules/additions/<ID>.js`
3) امنحها لصلاحيات سفير داخل `data/ambassadors.json`

## لوحة الإدارة (v3)
- تقرير "حالة البيانات" يتحقق من تكرار الأكواد وصحة معرفات الإضافات.
- مولّد `ambassadors.json` كامل مع مسودة قابلة للإضافة والحذف ثم التنزيل أو النسخ.
- تصدير مباشر لكل ملفات JSON الحالية من داخل الواجهة.

## ملاحظة أمان
هذه نسخة Static: الرابط هو "مفتاح الوصول".
إذا رغبت حماية أقوى (تسجيل دخول/صلاحيات خادم)، نحتاج إضافة Backend (Netlify Functions / Supabase...).

## جلب بيانات الصناديق (إضافة 004)
- يعتمد على Netlify Function: `/.netlify/functions/goal`
- السبب: المتصفح يمنع قراءة صفحات donate.utq.org.sa مباشرة بسبب CORS، فنعمل Proxy من Netlify.
